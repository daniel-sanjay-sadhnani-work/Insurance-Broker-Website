<!--
        I declare that this code was written by me. 
 I will not copy or allow others to copy my code. 
 I understand that copying code is considered as plagiarism.
 
 Student Name: Daniel Sanjay Sadhnani
 Student ID: 22013361
 Class: C369-3D-E63C-A
 Date/Time Last modified: 31/7/2023
 
    -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Payment Details</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
     .plum-background{
            background-color: plum;
            display: flex;
            align-items: center; 
            justify-content: center; 
            flex-direction: column;
        }
        .h1{
            font-family: italic;
            text-align: center;
        }
        img{
            height: 100px;
            width: 200px;
            animation: blinkYellow 2s infinite;
        }
        @keyframes blinkYellow {
            0%, 100% {
                box-shadow: 0 0 10px 5px yellow;
            }
            50% {
                box-shadow: none;
            }
        }
        .Payment-Img img{
            float:right;
            margin-right: 20px;
            
        }
        label {
    display: block;
    margin-top: 10px;
    font-weight: bold;
}

input[type="text"],
select {
    width: 100%;
    padding: 8px;
    margin-bottom: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
}

button {
  background-color: #4c4caf;
  color: white;
  padding: 10px 15px;
  border: none;
  cursor: pointer;
  left: 50%;
}
button:hover{
    opacity: 0.5;
}
  </style>
</head>
<body>
 <body class="plum-background">
    <div class="h1">
    <h1>Payment Details</h1>
    </div>
    <div class="container">
        <div class="row">
          <div class="col-md-3 mb-4">
            <img src="Mastercard.JPG" alt="Mastercard">
          </div>
          <div class="col-md-3 mb-4">
            <img src="Payment.JPG" alt="Payment">
          </div>
          <div class="col-md-3 mb-4">
            <img src="VISA.JPG" alt="VISA">
          </div>
          <div class="col-md-3 mb-4">
            <img src="Money.JPG" alt="Money">
          </div>
        </div>
      </div>
    <form id="paymentForm">
      <label for="cardNumber">Card Number:</label>
      <input type="text" id="cardNumber"  required>
      <label for="expirationDate">Expiration Date (YY/MM):</label>
      <input type="text" id="expirationDate" pattern="(0[1-9]|1[0-2])\/[0-9]{2}" required>
      <label for="cvv">CVV:</label>
      <input type="text" id="cvv" pattern="[0-9]{3}" required>
      <label for="streetAddress">Street Address:</label>
      <input type="text" id="streetAddress" pattern="^[0-9A-Za-z\s,-.']+$" required>
      <label for="country">Country:</label>
      <input type="text" id="country" pattern="^[A-Za-z\s-]+$"required>
      <label for="city">City:</label>
      <input type="text" id="city"  pattern="^[A-Za-z\s-]+$"required>
      <label for="state">State:</label>
      <input type="text" id="state" pattern="^[A-Za-z]{2,}$"required>
      <label for="zipcode">Zipcode:</label>
      <input type="text" id="zipcode" pattern="[0-9]{6}" required>
      <button type="submit">Make Payment</button>
    </form>
  </div>
    </body>
  <script>
    document.getElementById("paymentForm").addEventListener("submit", function(event) {
  event.preventDefault();

  
  const cardNumber = document.getElementById("cardNumber").value;
  const expirationDate = document.getElementById("expirationDate").value;
  const cvv = document.getElementById("cvv").value;
  const streetAddress = document.getElementById("streetAddress").value;
  const country = document.getElementById("country").value;
  const city = document.getElementById("city").value;
  const state = document.getElementById("state").value;
  const zipcode = document.getElementById("zipcode").value;

  
  const cardNumberRegex = /^[0-9]{16}$/;
  const expirationDateRegex = /^(0[1-9]|1[0-2])\/[0-9]{2}$/;
  const cvvRegex = /^[0-9]{3}$/;
  const zipcodeRegex = /^[0-9]{6}$/;

  if(cardNumber != cardNumberRegex){
    alert("Format must match 16 digits");
  }

  if (
    cardNumber.match(cardNumberRegex) &&
    expirationDate.match(expirationDateRegex) &&
    cvv.match(cvvRegex) &&
    zipcode.match(zipcodeRegex)
  ) {
    alert("Successful transaction");
    localStorage.setItem("paymentCompleted", "true"); 
    window.location.href = "Successful_Payment.html"; 
  } else {
    alert("Invalid payment details. Please check your inputs.");
  }
});

  </script>
</body>
</html>